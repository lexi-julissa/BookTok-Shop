/*!
 * ---------------------------------------------------------------------------
 *   Copyright (c) 2019, LiquidPixels, Incorporated. All Rights Reserved.
 *
 *   This file represents Intellectual Property which is proprietary and
 *   confidential to LiquidPixels, Incorporated. Any disclosure, in whole
 *   or in part, is prohibited without express written permission.
 * ---------------------------------------------------------------------------
 */
// provides com.liquidpixels.Resolve
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Resolve",[],e):"object"==typeof exports?exports.Resolve=e():(t.com=t.com||{},t.com.liquidpixels=t.com.liquidpixels||{},t.com.liquidpixels.Resolve=e())}(window,function(){return function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=178)}([function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(43)("wks"),i=n(20),o=n(2).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(6),i=n(61),o=n(30),s=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var v=n(2),m=n(17),g=n(11),y=n(10),b=n(16),A="prototype",w=function(t,e,n){var r,i,o,s,a=t&w.F,u=t&w.G,c=t&w.S,l=t&w.P,f=t&w.B,h=u?v:c?v[e]||(v[e]={}):(v[e]||{})[A],d=u?m:m[e]||(m[e]={}),p=d[A]||(d[A]={});for(r in u&&(n=e),n)o=((i=!a&&h&&void 0!==h[r])?h:n)[r],s=f&&i?b(o,v):l&&"function"==typeof o?b(Function.call,o):o,h&&y(h,r,o,t&w.U),d[r]!=o&&g(d,r,s),l&&p[r]!=o&&(p[r]=o)};v.core=m,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o=n(2),s=n(11),a=n(7),u=n(20)("src"),r="toString",i=Function[r],c=(""+i).split(r);n(17).inspectSource=function(t){return i.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(i&&(a(n,u)||s(n,u,t[e]?""+t[e]:c.join(String(e)))),t===o?t[e]=n:r?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[u]||i.call(this)})},function(t,e,n){var r=n(5),i=n(21);t.exports=n(4)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(46),i=n(34);t.exports=function(t){return r(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(68),i=n(48);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(103)})},function(t,e,n){var o=n(29);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){n(53)("replace",2,function(i,o,s){return[function(t,e){"use strict";var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):s.call(String(n),t,e)},s]})},function(t,e,n){n(53)("split",2,function(i,o,s){"use strict";var d=n(71),p=s,v=[].push,t="split",m="length",g="lastIndex";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[m]||2!="ab"[t](/(?:ab)*/)[m]||4!="."[t](/(.?)(.?)/)[m]||1<"."[t](/()()/)[m]||""[t](/.?/)[m]){var y=void 0===/()??/.exec("")[1];s=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!d(t))return p.call(n,t,e);var r,i,o,s,a,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=void 0===e?4294967295:e>>>0,h=new RegExp(t.source,c+"g");for(y||(r=new RegExp("^"+h.source+"$(?!\\s)",c));(i=h.exec(n))&&!(l<(o=i.index+i[0][m])&&(u.push(n.slice(l,i.index)),!y&&1<i[m]&&i[0].replace(r,function(){for(a=1;a<arguments[m]-2;a++)void 0===arguments[a]&&(i[a]=void 0)}),1<i[m]&&i.index<n[m]&&v.apply(u,i.slice(1)),s=i[0][m],l=o,u[m]>=f));)h[g]===i.index&&h[g]++;return l===n[m]?!s&&h.test("")||u.push(""):u.push(n.slice(l)),u[m]>f?u.slice(0,f):u}}else"0"[t](void 0,0)[m]&&(s=function(t,e){return void 0===t&&0===e?[]:p.call(this,t,e)});return[function(t,e){var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):s.call(String(n),t,e)},s]})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(34);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(76),i=n(106),o=n(22),s=n(12);t.exports=n(107)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){for(var r=n(25),i=n(10),o=n(2),s=n(11),a=n(22),u=n(1),c=u("iterator"),l=u("toStringTag"),f=a.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;d<5;d++){var p,v=h[d],m=o[v],g=m&&m.prototype;if(g)for(p in g[c]||s(g,c,f),g[l]||s(g,l,v),a[v]=f,r)g[p]||i(g,p,r[p],!0)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(9);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(5).f,i=n(7),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(66)("asyncIterator")},function(t,e,n){"use strict";var r=n(2),s=n(7),i=n(4),o=n(8),a=n(10),u=n(96).KEY,c=n(3),l=n(43),f=n(31),h=n(20),d=n(1),p=n(67),v=n(66),m=n(97),g=n(100),y=n(69),b=n(6),A=n(12),w=n(30),x=n(21),k=n(50),_=n(102),E=n(51),S=n(5),O=n(14),R=E.f,F=S.f,C=_.f,N=r.Symbol,j=r.JSON,M=j&&j.stringify,I="prototype",B=d("_hidden"),P=d("toPrimitive"),L={}.propertyIsEnumerable,T=l("symbol-registry"),U=l("symbols"),z=l("op-symbols"),q=Object[I],Q="function"==typeof N,H=r.QObject,W=!H||!H[I]||!H[I].findChild,V=i&&c(function(){return 7!=k(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(q,e);r&&delete q[e],F(t,e,n),r&&t!==q&&F(q,e,r)}:F,D=function(t){var e=U[t]=k(N[I]);return e._k=t,e},G=Q&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},K=function(t,e,n){return t===q&&K(z,e,n),b(t),e=w(e,!0),b(n),s(U,e)?(n.enumerable?(s(t,B)&&t[B][e]&&(t[B][e]=!1),n=k(n,{enumerable:x(0,!1)})):(s(t,B)||F(t,B,x(1,{})),t[B][e]=!0),V(t,e,n)):F(t,e,n)},J=function(t,e){b(t);for(var n,r=g(e=A(e)),i=0,o=r.length;i<o;)K(t,n=r[i++],e[n]);return t},$=function(t){var e=L.call(this,t=w(t,!0));return!(this===q&&s(U,t)&&!s(z,t))&&(!(e||!s(this,t)||!s(U,t)||s(this,B)&&this[B][t])||e)},X=function(t,e){if(t=A(t),e=w(e,!0),t!==q||!s(U,e)||s(z,e)){var n=R(t,e);return!n||!s(U,e)||s(t,B)&&t[B][e]||(n.enumerable=!0),n}},Y=function(t){for(var e,n=C(A(t)),r=[],i=0;n.length>i;)s(U,e=n[i++])||e==B||e==u||r.push(e);return r},Z=function(t){for(var e,n=t===q,r=C(n?z:A(t)),i=[],o=0;r.length>o;)!s(U,e=r[o++])||n&&!s(q,e)||i.push(U[e]);return i};Q||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=h(0<arguments.length?arguments[0]:void 0),n=function(t){this===q&&n.call(z,t),s(this,B)&&s(this[B],e)&&(this[B][e]=!1),V(this,e,x(1,t))};return i&&W&&V(q,e,{configurable:!0,set:n}),D(e)})[I],"toString",function(){return this._k}),E.f=X,S.f=K,n(35).f=_.f=Y,n(23).f=$,n(49).f=Z,i&&!n(28)&&a(q,"propertyIsEnumerable",$,!0),p.f=function(t){return D(d(t))}),o(o.G+o.W+o.F*!Q,{Symbol:N});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(tt=O(d.store),et=0;tt.length>et;)v(tt[et++]);o(o.S+o.F*!Q,"Symbol",{for:function(t){return s(T,t+="")?T[t]:T[t]=N(t)},keyFor:function(t){if(G(t))return m(T,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!Q,"Object",{create:function(t,e){return void 0===e?k(t):J(k(t),e)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),j&&o(o.S+o.F*(!Q||c(function(){var t=N();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(e=r[1])&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,M.apply(j,r)}}}),N[I][P]||n(11)(N[I],P,N[I].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(68),i=n(48).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){n(53)("match",1,function(r,i,t){return[function(t){"use strict";var e=r(this),n=null==t?void 0:t[i];return void 0!==n?n.call(t,e):new RegExp(t)[i](String(e))},t]})},function(t,e,n){var r=n(5).f,i=n(21),o=n(7),s=Function.prototype,a=/^\s*function ([^ (]*)/,u="name",c=Object.isExtensible||function(){return!0};u in s||n(4)&&r(s,u,{configurable:!0,get:function(){try{var t=(""+this).match(a)[1];return o(this,u)||!c(this)||r(this,u,i(5,t)),t}catch(t){return""}}})},function(t,e,n){var r=n(54)(Object,"create");t.exports=r},function(t,e,n){var r=n(135);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(141);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var s;t.exports=(s=n(165),function(l){var t=s,e=t.lib,n=e.WordArray,r=e.Hasher,i=t.algo,S=[];!function(){for(var t=0;t<64;t++)S[t]=4294967296*l.abs(l.sin(t+1))|0}();var o=i.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],a=t[e+1],u=t[e+2],c=t[e+3],l=t[e+4],f=t[e+5],h=t[e+6],d=t[e+7],p=t[e+8],v=t[e+9],m=t[e+10],g=t[e+11],y=t[e+12],b=t[e+13],A=t[e+14],w=t[e+15],x=o[0],k=o[1],_=o[2],E=o[3];k=C(k=C(k=C(k=C(k=F(k=F(k=F(k=F(k=R(k=R(k=R(k=R(k=O(k=O(k=O(k=O(k,_=O(_,E=O(E,x=O(x,k,_,E,s,7,S[0]),k,_,a,12,S[1]),x,k,u,17,S[2]),E,x,c,22,S[3]),_=O(_,E=O(E,x=O(x,k,_,E,l,7,S[4]),k,_,f,12,S[5]),x,k,h,17,S[6]),E,x,d,22,S[7]),_=O(_,E=O(E,x=O(x,k,_,E,p,7,S[8]),k,_,v,12,S[9]),x,k,m,17,S[10]),E,x,g,22,S[11]),_=O(_,E=O(E,x=O(x,k,_,E,y,7,S[12]),k,_,b,12,S[13]),x,k,A,17,S[14]),E,x,w,22,S[15]),_=R(_,E=R(E,x=R(x,k,_,E,a,5,S[16]),k,_,h,9,S[17]),x,k,g,14,S[18]),E,x,s,20,S[19]),_=R(_,E=R(E,x=R(x,k,_,E,f,5,S[20]),k,_,m,9,S[21]),x,k,w,14,S[22]),E,x,l,20,S[23]),_=R(_,E=R(E,x=R(x,k,_,E,v,5,S[24]),k,_,A,9,S[25]),x,k,c,14,S[26]),E,x,p,20,S[27]),_=R(_,E=R(E,x=R(x,k,_,E,b,5,S[28]),k,_,u,9,S[29]),x,k,d,14,S[30]),E,x,y,20,S[31]),_=F(_,E=F(E,x=F(x,k,_,E,f,4,S[32]),k,_,p,11,S[33]),x,k,g,16,S[34]),E,x,A,23,S[35]),_=F(_,E=F(E,x=F(x,k,_,E,a,4,S[36]),k,_,l,11,S[37]),x,k,d,16,S[38]),E,x,m,23,S[39]),_=F(_,E=F(E,x=F(x,k,_,E,b,4,S[40]),k,_,s,11,S[41]),x,k,c,16,S[42]),E,x,h,23,S[43]),_=F(_,E=F(E,x=F(x,k,_,E,v,4,S[44]),k,_,y,11,S[45]),x,k,w,16,S[46]),E,x,u,23,S[47]),_=C(_,E=C(E,x=C(x,k,_,E,s,6,S[48]),k,_,d,10,S[49]),x,k,A,15,S[50]),E,x,f,21,S[51]),_=C(_,E=C(E,x=C(x,k,_,E,y,6,S[52]),k,_,c,10,S[53]),x,k,m,15,S[54]),E,x,a,21,S[55]),_=C(_,E=C(E,x=C(x,k,_,E,p,6,S[56]),k,_,w,10,S[57]),x,k,h,15,S[58]),E,x,b,21,S[59]),_=C(_,E=C(E,x=C(x,k,_,E,l,6,S[60]),k,_,g,10,S[61]),x,k,u,15,S[62]),E,x,v,21,S[63]),o[0]=o[0]+x|0,o[1]=o[1]+k|0,o[2]=o[2]+_|0,o[3]=o[3]+E|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32;var i=l.floor(n/4294967296),o=n;e[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,a=s.words,u=0;u<4;u++){var c=a[u];a[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function O(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function R(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function F(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function C(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}t.MD5=r._createHelper(o),t.HmacMD5=r._createHmacHelper(o)}(Math),s.MD5)},function(t,e,n){"use strict";var r,i,o,s=n(28),a=n(2),u=n(16),c=n(60),l=n(8),f=n(9),h=n(29),d=n(86),p=n(87),v=n(91),m=n(63).set,g=n(93)(),y="Promise",b=a.TypeError,A=a.process,w=a[y],x="process"==c(A=a.process),k=function(){},_=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(k,k)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),E=function(t,e){return t===e||t===w&&e===o},S=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t){return E(w,t)?new R(t):new i(t)},R=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw b("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},F=function(t){try{t()}catch(t){return{error:t}}},C=function(c,n){if(!c._n){c._n=!0;var r=c._c;g(function(){for(var a=c._v,u=1==c._s,t=0,e=function(t){var e,n,r=u?t.ok:t.fail,i=t.resolve,o=t.reject,s=t.domain;try{r?(u||(2==c._h&&M(c),c._h=1),!0===r?e=a:(s&&s.enter(),e=r(a),s&&s.exit()),e===t.promise?o(b("Promise-chain cycle")):(n=S(e))?n.call(e,i,o):i(e)):o(a)}catch(t){o(t)}};r.length>t;)e(r[t++]);c._c=[],c._n=!1,n&&!c._h&&N(c)})}},N=function(i){m.call(a,function(){var t,e,n,r=i._v;if(j(i)&&(t=F(function(){x?A.emit("unhandledRejection",r,i):(e=a.onunhandledrejection)?e({promise:i,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=x||j(i)?2:1),i._a=void 0,t)throw t.error})},j=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!j(e.promise))return!1;return!0},M=function(e){m.call(a,function(){var t;x?A.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},B=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw b("Promise can't be resolved itself");(n=S(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,u(B,e,1),u(I,e,1))}catch(t){I.call(e,t)}}):(r._v=t,r._s=1,C(r,!1))}catch(t){I.call({_w:r,_d:!1},t)}}};_||(w=function(t){d(this,w,y,"_h"),h(t),r.call(this);try{t(u(B,this,1),u(I,this,1))}catch(t){I.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(94)(w.prototype,{then:function(t,e){var n=O(v(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),R=function(){var t=new r;this.promise=t,this.resolve=u(B,t,1),this.reject=u(I,t,1)}),l(l.G+l.W+l.F*!_,{Promise:w}),n(31)(w,y),n(65)(y),o=n(17)[y],l(l.S+l.F*!_,y,{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(s||!_),y,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var e=O(this);return(0,e.resolve)(t),e.promise}}),l(l.S+l.F*!(_&&n(95)(function(t){w.all(t).catch(k)})),y,{all:function(t){var s=this,e=O(s),a=e.resolve,u=e.reject,n=F(function(){var r=[],i=0,o=1;p(t,!1,function(t){var e=i++,n=!1;r.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,r[e]=t,--o||a(r))},u)}),--o||a(r)});return n&&u(n.error),e.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=F(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){var r=n(2),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(9),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(62),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(13);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(43)("keys"),i=n(20);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var i=r(6),o=r(101),s=r(48),a=r(47)("IE_PROTO"),u=function(){},c="prototype",l=function(){var t,e=r(44)("iframe"),n=s.length;for(e.style.display="none",r(64).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[c][s[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=i(t),n=new u,u[c]=null,n[a]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(23),i=n(21),o=n(12),s=n(30),a=n(7),u=n(61),c=Object.getOwnPropertyDescriptor;e.f=n(4)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var a=n(11),u=n(10),c=n(3),l=n(34),f=n(1);t.exports=function(e,t,n){var r=f(e),i=n(l,r,""[e]),o=i[0],s=i[1];c(function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})&&(u(String.prototype,e,o),a(RegExp.prototype,r,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}))}},function(t,e,n){var r=n(120),i=n(127);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(56),i=n(122),o=n(123),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(57).Symbol;t.exports=r},function(t,e,n){var r=n(121),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(163),i=n(58);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var i=n(13),o=n(1)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){t.exports=!n(4)&&!n(3)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r,i,o,s=n(16),a=n(92),u=n(64),c=n(44),l=n(2),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=0,m={},g="onreadystatechange",y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete m[t]},"process"==n(13)(f)?r=function(t){f.nextTick(s(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){t.exports=n(2).document&&document.documentElement},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(4),s=n(1)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(2),i=n(17),o=n(28),s=n(67),a=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){e.f=n(1)},function(t,e,n){var s=n(7),a=n(12),u=n(98)(!1),c=n(47)("IE_PROTO");t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var r=n(13);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";n(104);var r=n(6),i=n(52),o=n(4),s="toString",a=/./[s],u=function(t){n(10)(RegExp.prototype,s,t,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):a.name!=s&&u(function(){return a.call(this)})},function(t,e,n){var r=n(9),i=n(13),o=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(2),o=n(73),i=n(5).f,s=n(35).f,a=n(71),u=n(52),c=r.RegExp,l=c,f=c.prototype,h=/a/g,d=/a/g,p=new c(h)!==h;if(n(4)&&(!p||n(3)(function(){return d[n(1)("match")]=!1,c(h)!=h||c(d)==d||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=a(t),i=void 0===e;return!n&&r&&t.constructor===c&&i?t:o(p?new l(r&&!i?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&i?u.call(t):e),n?this:f,c)};for(var v=function(e){e in c||i(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=s(l),g=0;m.length>g;)v(m[g++]);(f.constructor=c).prototype=f,n(10)(r,"RegExp",c)}n(65)("RegExp")},function(t,e,n){var o=n(9),s=n(105).set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&s&&s(t,r),t}},function(j,t,e){(function(t){!function(t){"use strict";var u,e=Object.prototype,c=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag",s="object"==typeof j,a=t.regeneratorRuntime;if(a)s&&(j.exports=a);else{(a=t.regeneratorRuntime=s?j.exports:{}).wrap=b;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},l={};l[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&c.call(g,i)&&(l=g);var y=k.prototype=w.prototype=Object.create(l);x.prototype=y.constructor=k,k.constructor=x,k[o]=x.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},_(E.prototype),E.prototype[r]=function(){return this},a.AsyncIterator=E,a.async=function(t,e,n,r){var i=new E(b(t,e,n,r));return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},_(y),y[o]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=C,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=c.call(i,"catchLoc"),a=c.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),v}}}function b(t,e,n,r){var o,s,a,u,i=e&&e.prototype instanceof w?e:w,c=Object.create(i.prototype),l=new F(r||[]);return c._invoke=(o=t,s=n,a=l,u=f,function(t,e){if(u===d)throw new Error("Generator is already running");if(u===p){if("throw"===t)throw e;return N()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=S(n,a);if(r){if(r===v)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===f)throw u=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=d;var i=A(o,s,a);if("normal"===i.type){if(u=a.done?p:h,i.arg===v)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(u=p,a.method="throw",a.arg=i.arg)}}),c}function A(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function k(){}function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(a){function u(t,e,n,r){var i=A(a[t],a,e);if("throw"!==i.type){var o=i.arg,s=o.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(t){u("next",t,n,r)},function(t){u("throw",t,n,r)}):Promise.resolve(s).then(function(t){o.value=t,n(o)},r)}r(i.arg)}var e;"object"==typeof t.process&&t.process.domain&&(u=t.process.domain.bind(u)),this._invoke=function(n,r){function t(){return new Promise(function(t,e){u(n,r,t,e)})}return e=e?e.then(t,t):t()}}function S(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,S(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=A(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:u,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e(75))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(55),i=n(27);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(24),i=n(14);n(166)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(114),i=n(155),o=n(59),s=i(function(t,e){return o(t)?r(t,e):[]});t.exports=s},function(t,e,n){var r=n(55),i=n(80),o=n(58);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(167),i=0;t.exports=function(t){var e=++i;return r(t)+e}},function(t,e){t.exports={BROWSER_ALIASES_MAP:{"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex"}}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var h=n(16),d=n(88),p=n(89),v=n(6),m=n(45),g=n(90),y={},b={};(e=t.exports=function(t,e,n,r,i){var o,s,a,u,c=i?function(){return t}:g(t),l=h(n,r,e?2:1),f=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(p(c)){for(o=m(t.length);f<o;f++)if((u=e?l(v(s=t[f])[0],s[1]):l(t[f]))===y||u===b)return u}else for(a=c.call(t);!(s=a.next()).done;)if((u=d(a,l,s.value,e))===y||u===b)return u}).BREAK=y,e.RETURN=b},function(t,e,n){var o=n(6);t.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(t,e,n){var r=n(22),i=n(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(60),i=n(1)("iterator"),o=n(22);t.exports=n(17).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var i=n(6),o=n(29),s=n(1)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var a=n(2),u=n(63).set,c=a.MutationObserver||a.WebKitMutationObserver,l=a.process,f=a.Promise,h="process"==n(13)(l);t.exports=function(){var n,r,i,t=function(){var t,e;for(h&&(t=l.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?i():r=void 0,t}}r=void 0,t&&t.enter()};if(h)i=function(){l.nextTick(t)};else if(c){var e=!0,o=document.createTextNode("");new c(t).observe(o,{characterData:!0}),i=function(){o.data=e=!e}}else if(f&&f.resolve){var s=f.resolve();i=function(){s.then(t)}}else i=function(){u.call(a,t)};return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}}},function(t,e,n){var i=n(10);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var o=n(1)("iterator"),s=!1;try{var r=[7][o]();r.return=function(){s=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},t(r)}catch(t){}return n}},function(t,e,n){var r=n(20)("meta"),i=n(9),o=n(7),s=n(5).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e,n){var a=n(14),u=n(12);t.exports=function(t,e){for(var n,r=u(t),i=a(r),o=i.length,s=0;s<o;)if(r[n=i[s++]]===e)return n}},function(t,e,n){var u=n(12),c=n(45),l=n(99);t.exports=function(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}},function(t,e,n){var r=n(62),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var a=n(14),u=n(49),c=n(23);t.exports=function(t){var e=a(t),n=u.f;if(n)for(var r,i=n(t),o=c.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}},function(t,e,n){var s=n(5),a=n(6),u=n(14);t.exports=n(4)?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(12),i=n(35).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var h=n(14),d=n(49),p=n(23),v=n(24),m=n(46),i=Object.assign;t.exports=!i||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||Object.keys(i({},e)).join("")!=r})?function(t,e){for(var n=v(t),r=arguments.length,i=1,o=d.f,s=p.f;i<r;)for(var a,u=m(arguments[i++]),c=o?h(u).concat(o(u)):h(u),l=c.length,f=0;f<l;)s.call(u,a=c[f++])&&(n[a]=u[a]);return n}:i},function(t,e,n){n(4)&&"g"!=/./g.flags&&n(5).f(RegExp.prototype,"flags",{configurable:!0,get:n(52)})},function(t,e,i){var n=i(9),r=i(6),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=i(16)(Function.call,i(51).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var b=n(28),A=n(8),w=n(10),x=n(11),k=n(7),_=n(22),E=n(108),S=n(31),O=n(109),R=n(1)("iterator"),F=!([].keys&&"next"in[].keys()),C="values",N=function(){return this};t.exports=function(t,e,n,r,i,o,s){E(n,e,r);var a,u,c,l=function(t){if(!F&&t in p)return p[t];switch(t){case"keys":case C:return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",h=i==C,d=!1,p=t.prototype,v=p[R]||p["@@iterator"]||i&&p[i],m=v||l(i),g=i?h?l("entries"):m:void 0,y="Array"==e&&p.entries||v;if(y&&(c=O(y.call(new t)))!==Object.prototype&&(S(c,f,!0),b||k(c,R)||x(c,R,N)),h&&v&&v.name!==C&&(d=!0,m=function(){return v.call(this)}),b&&!s||!F&&!d&&p[R]||x(p,R,m),_[e]=m,_[f]=N,i)if(a={values:h?m:l(C),keys:o?m:l("keys"),entries:g},s)for(u in a)u in p||w(p,u,a[u]);else A(A.P+A.F*(F||d),e,a);return a}},function(t,e,n){"use strict";var r=n(50),i=n(21),o=n(31),s={};n(11)(s,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(7),i=n(24),o=n(47)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(8),i=n(111)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var u=n(14),c=n(12),l=n(23).f;t.exports=function(a){return function(t){for(var e,n=c(t),r=u(n),i=r.length,o=0,s=[];o<i;)l.call(n,e=r[o++])&&s.push(a?[e,n[e]]:n[e]);return s}}},function(t,e,n){"use strict";var r=n(8),i=n(29),o=n(24),s=n(3),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(113)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var d=n(115),p=n(147),v=n(152),m=n(78),g=n(153),y=n(154);t.exports=function(t,e,n,r){var i=-1,o=p,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=m(e,g(n))),r?(o=v,s=!1):200<=e.length&&(o=y,s=!1,e=new d(e));t:for(;++i<a;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}},function(t,e,n){var r=n(116),i=n(145),o=n(146);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},function(t,e,n){var r=n(117),i=n(140),o=n(142),s=n(143),a=n(144);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(118),i=n(132),o=n(139);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(119),i=n(128),o=n(129),s=n(130),a=n(131);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(38);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(77),i=n(124),o=n(27),s=n(126),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:a).test(s(t))}},function(n,t,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(this,e(75))},function(t,e,n){var r=n(56),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{var r=!(t[a]=void 0)}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,i=n(125),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(57)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(38),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(38),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(38);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(133),i=n(134),o=n(136),s=n(137),a=n(138);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(39),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(39);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(39);t.exports=function(t){return-1<r(this.__data__,t)}},function(t,e,n){var i=n(39);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var r=n(54)(n(57),"Map");t.exports=r},function(t,e,n){var r=n(40);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(40);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(40);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var i=n(40);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(148);t.exports=function(t,e){return!(null==t||!t.length)&&-1<r(t,e,0)}},function(t,e,n){var r=n(149),i=n(150),o=n(151);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e){t.exports=function(e){return function(t){return e(t)}}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(79),i=n(156),o=n(158);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var u=n(157),c=Math.max;t.exports=function(o,s,a){return s=c(void 0===s?o.length-1:s,0),function(){for(var t=arguments,e=-1,n=c(t.length-s,0),r=Array(n);++e<n;)r[e]=t[s+e];e=-1;for(var i=Array(s+1);++e<s;)i[e]=t[e];return i[s]=a(r),u(o,this,i)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(159),i=n(162)(r);t.exports=i},function(t,e,n){var r=n(160),i=n(161),o=n(79),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(54),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){var o=Date.now;t.exports=function(n){var r=0,i=0;return function(){var t=o(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},function(t,e,n){var r=n(77),i=n(164);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r,f,i,o,s,a,h,u,c,l,d,p,v;t.exports=(r=r||(f=Math,i=Object.create||function(){function n(){}return function(t){var e;return n.prototype=t,e=new n,n.prototype=null,e}}(),s=(o={}).lib={},a=s.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},h=s.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=f.ceil(e/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e,n=[],r=function(e){var e=e,n=987654321,r=4294967295;return function(){var t=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return t/=4294967296,(t+=.5)*(.5<f.random()?1:-1)}},i=0;i<t;i+=4){var o=r(4294967296*(e||f.random()));e=987654071*o(),n.push(4294967296*o()|0)}return new h.init(n,t)}}),u=o.enc={},c=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new h.init(n,e/2)}},l=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new h.init(n,e)}},d=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,i=this.blockSize,o=4*i,s=r/o,a=(s=t?f.ceil(s):f.max((0|s)-this._minBufferSize,0))*i,u=f.min(4*a,r);if(a){for(var c=0;c<a;c+=i)this._doProcessBlock(n,c);var l=n.splice(0,a);e.sigBytes-=u}return new h.init(l,u)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),s.Hasher=p.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new v.HMAC.init(n,e).finalize(t)}}}),v=o.algo={},o),r)},function(t,e,n){var i=n(8),o=n(17),s=n(3);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*s(function(){n(1)}),"Object",r)}},function(t,e,n){var r=n(168);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(56),i=n(78),o=n(80),s=n(169),a=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e,n){var r=n(55),i=n(58);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){"use strict";var r=n(8),i=n(171)(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),n(76)(o)},function(t,e,n){var b=n(16),A=n(46),w=n(24),x=n(45),r=n(172);t.exports=function(f,t){var h=1==f,d=2==f,p=3==f,v=4==f,m=6==f,g=5==f||m,y=t||r;return function(t,e,n){for(var r,i,o=w(t),s=A(o),a=b(e,n,3),u=x(s.length),c=0,l=h?y(t,u):d?y(t,0):void 0;c<u;c++)if((g||c in s)&&(i=a(r=s[c],c,o),f))if(h)l[c]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:l.push(r)}else if(v)return!1;return m?-1:p||v?v:l}}},function(t,e,n){var r=n(173);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(9),i=n(69),o=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(2),i=n(7),o=n(13),s=n(73),l=n(30),a=n(3),u=n(35).f,c=n(51).f,f=n(5).f,h=n(175).trim,d="Number",p=r[d],v=p,m=p.prototype,g=o(n(50)(m))==d,y="trim"in String.prototype,b=function(t){var e=l(t,!1);if("string"==typeof e&&2<e.length){var n,r,i,o=(e=y?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,a=e.slice(2),u=0,c=a.length;u<c;u++)if((s=a.charCodeAt(u))<48||i<s)return NaN;return parseInt(a,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?a(function(){m.valueOf.call(n)}):o(n)!=d)?s(new v(b(e)),n,p):b(e)};for(var A,w=n(4)?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(v,A=w[x])&&!i(p,A)&&f(p,A,c(v,A));(p.prototype=m).constructor=p,n(10)(r,d,p)}},function(t,e,n){var s=n(8),r=n(34),a=n(3),u=n(176),i="["+u+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),l=function(t,e,n){var r={},i=a(function(){return!!u[t]()||"​"!="​"[t]()}),o=r[t]=i?e(f):u[t];n&&(r[n]=o),s(s.P+s.F*i,"String",r)},f=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e){!function(v,m){"use strict";if("IntersectionObserver"in v&&"IntersectionObserverEntry"in v&&"intersectionRatio"in v.IntersectionObserverEntry.prototype)"isIntersecting"in v.IntersectionObserverEntry.prototype||Object.defineProperty(v.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(v,"resize",this._checkForIntersections,!0),n(m,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in v&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(m,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(v,"resize",this._checkForIntersections,!0),r(m,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),u=a?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=g(e),r=this._rootContainsTarget(e),i=t.entry,o=a&&r&&this._computeTargetAndRootIntersection(e,u),s=t.entry=new c({time:v.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:u,intersectionRect:o});i?a&&r?this._hasCrossedThreshold(i,s)&&this._queuedEntries.push(s):i&&i.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=v.getComputedStyle(t).display){for(var n,r,i,o,s,a,u,c,l=g(t),f=y(t),h=!1;!h;){var d=null,p=1==f.nodeType?v.getComputedStyle(f):{};if("none"==p.display)return;if(f==this.root||f==m?(h=!0,d=e):f!=m.body&&f!=m.documentElement&&"visible"!=p.overflow&&(d=g(f)),d&&(n=d,r=l,void 0,i=Math.max(n.top,r.top),o=Math.min(n.bottom,r.bottom),s=Math.max(n.left,r.left),a=Math.min(n.right,r.right),c=o-i,!(l=0<=(u=a-s)&&0<=c&&{top:i,bottom:o,left:s,right:a,width:u,height:c})))break;f=y(f)}return l}},t.prototype._getRootRect=function(){var t;if(this.root)t=g(this.root);else{var e=m.documentElement,n=m.body;t={top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},t.prototype._rootIsInDom=function(){return!this.root||i(m,this.root)},t.prototype._rootContainsTarget=function(t){return i(this.root||m,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},v.IntersectionObserver=t,v.IntersectionObserverEntry=c}function c(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,r,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function g(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function i(t,e){for(var n=e;n;){if(n==t)return!0;n=y(n)}return!1}function y(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"GCD",function(){return l});var i={};n.r(i),n.d(i,"ready",function(){return h}),n.d(i,"deepExtend",function(){return d}),n.d(i,"dispatchEvent",function(){return p}),n.d(i,"type",function(){return v}),n.d(i,"cloneClass",function(){return m}),n.d(i,"imageLoaded",function(){return g}),n.d(i,"textTrue",function(){return y}),n.d(i,"addClass",function(){return b}),n.d(i,"removeClass",function(){return A});var o={};n.r(o),n.d(o,"formatSupported",function(){return _});n(42),n(32),n(33),n(15),n(70),n(18),n(19),n(72),n(74),n(25),n(110),n(36),n(26);var s=n(0),a=n.n(s);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function i(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.options={alwaysUseSSL:!1,neverUseSSL:!1},Object.assign(this.options,r),this.server(t),this.uri(e),this.port(n)}var t,e,n;return t=i,(e=[{key:"server",value:function(){return a()(arguments[0])||(this._server=arguments[0]),this._server}},{key:"uri",value:function(){return a()(arguments[0])||(this._uri=arguments[0]),this._uri}},{key:"port",value:function(){return a()(arguments[0])||(this._port=arguments[0]),this._port}},{key:"portAsString",value:function(){return this.port()&&80!=this.port()?":"+this.port():""}},{key:"zapDir",value:function(){return this.httpProtocolCheck()+"//"+this.server()+this.portAsString()+"/zap"}},{key:"valid",value:function(){return this.server()&&this.uri()?this._valid=!0:this._valid=!1,this._valid}},{key:"escape",value:function(t){return t=(t=(t=(t=(t=t.replace(/\'/g,"U2019")).replace(/&/g,"U0026amp;")).replace(/[\-][\-]/g,"U2014")).replace(/\(/g,"U0026lp;")).replace(/\)/g,"U0026rp;")}},{key:"asURL",value:function(){return this.httpProtocolCheck()+"//"+this.server()+this.portAsString()+"/"+this.uri()}},{key:"httpProtocolCheck",value:function(){var t=window.location.protocol;return t.match(/^http/i)||(t="http:"),this.options.alwaysUseSSL&&(t="https:"),this.options.neverUseSSL&&(t="http:"),t}}])&&u(t.prototype,e),n&&u(t,n),i}();n(37),n(112);function l(t,e){return 0===e?t:this.GCD(e,t%e)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function d(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&("object"===f(n[r])?t[r]=d(t[r],n[r]):t[r]=n[r])}return t}function p(t,e,n){var r;try{r=new CustomEvent(e,{detail:n})}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n)}return t.dispatchEvent(r)}function v(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}function m(t){var e=Object.getPrototypeOf(t);return Object.assign(Object.create(e),t)}function g(t){return!t.src||!!t.complete&&(void 0===t.naturalWidth||0!=t.naturalWidth)}function y(t){if(t){if(t.toLowerCase){var e=t.toLowerCase();if("no"==e||"false"==e||"0"==e)return!1}return!0}return!1}function b(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function A(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function w(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}var x={jpeg:{supported:!0},jpg:{supported:!0},gif:{supported:!0},png:{supported:!0},bmp:{supported:!0},jp2:{uri:"data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k="},jxr:{uri:"data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},wdp:{uri:"data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},hdp:{uri:"data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},webp:{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="},"webp.alpha":{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="},"webp.animation":{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},"webp.lossless":{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}};function k(t){return new Promise(function(n){var r=new Image;r.onload=r.onerror=function(t){var e=!(!t||"load"!==t.type)&&1===r.width;n(e)},r.src=t})}function _(t){return E.apply(this,arguments)}function E(){var a;return a=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!x[e]){t.next=8;break}if(void 0===x[e].supported)return t.next=4,k(x[e].uri);t.next=5;break;case 4:x[e].supported=t.sent;case 5:return t.abrupt("return",x[e].supported);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t)}),(E=function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){w(r,e,n,i,o,"next",t)}function o(t){w(r,e,n,i,o,"throw",t)}i(void 0)})}).apply(this,arguments)}var S={dom:i,math:r,image:o},O=n(82),R=n.n(O);function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C=function(){function i(t,e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.name(t),this.atts={},this.keys=[],this.options||(this.options={sortAttribs:!0}),Object.assign(this.options,n),e){for(var r in Object.assign(this.atts,e),this.atts)this.keys.push(r);this.options.sortAttribs&&this.keys.sort()}}var t,e,n;return t=i,(e=[{key:"clone",value:function(){return S.dom.cloneClass(this)}},{key:"asString",value:function(){for(var t=this.name()+"=",e=this.atts,n=this.keys,r=n.length,i=0;i<r;++i){var o=n[i];t+=o+"["+e[o]+"],"}return t.substring(0,t.length-1)}},{key:"asHtml",value:function(){var t='<span class="lfcommand">',e=this.atts,n=this.keys,r=n.length;if(this.name().match(/^#/)){t+='<span class="comment">'+this.name(),t+="=";for(var i=0;i<r;++i){t+=(o=n[i])+"["+e[o]+"],"}t=(t=t.substring(0,t.length)).replace(/=$/,"")}else{t+='<span class="name">'+this.name()+"</span>",t+='<span class="op">=</span>';for(i=0;i<r;++i){var o=n[i],s=String(e[o]);s&&(s=(s=s.replace(/</g,"&lt;")).replace(/>/g,"&gt;")),t+='<span class="argName">'+o+"</span>",t+='<span class="op">[</span>',t+='<span class="argValue">'+s+"</span>",t+='<span class="op">],</span>'}t=t.substring(0,t.length-8)}return t+="</span></span>"}},{key:"get",value:function(t){return this.atts[t]}},{key:"getAtt",value:function(t){return this.get(t)}},{key:"set",value:function(t,e){a()(this.atts[t])&&(this.keys.push(t),this.options.sortAttribs&&this.keys.sort()),this.atts[t]=e}},{key:"addAtt",value:function(t,e){this.set(t,e)}},{key:"setAtt",value:function(t,e){this.set(t,e)}},{key:"removeAtt",value:function(t){this.atts[t]=null,this.keys=R()(this.keys,t)}},{key:"name",value:function(){return a()(arguments[0])||(this._name=arguments[0]),this._name}},{key:"attributes",value:function(t){return this.atts}},{key:"parse2",value:function(t){var e="name";this.name(""),this.atts={};for(var n="",r="",i=t.length,o=0;o<i;o++){var s=t.substring(o,o+1),a=t.substring(o+1,o+2);switch(e){case"name":if("="==s){e="key";break}this.name(this.name()+s);break;case"key":if("["==s){e="val";break}n+=s;break;case"val":if("]"==s&&","==a||"]"==s&&""==a){this.set(n,r),e="haveatt";break}r+=s;break;case"haveatt":r=n="",","==s&&(e="key")}}}},{key:"parse",value:function(t){this.name(""),this.atts={};var e=t.split("=");if(e[0]&&this.name(e.shift()),e[0])for(var n=e.join("=").split("],"),r=n.length,i=0;i<r;i++){var o=n[i].match(/^([^\[]*)(.*)/);o&&("["==o[2].charAt(0)&&(o[2]=o[2].substr(1)),"]"==o[2].charAt(o[2].length-1)&&(o[2]=o[2].substr(0,o[2].length-1)),o[1]&&this.set(o[1],o[2]))}}},{key:"sortKeys",value:function(){this.keys.sort()}}])&&F(t.prototype,e),n&&F(t,n),i}(),N=n(83),j=n.n(N),M=n(27),I=n.n(M),B=n(41),P=n.n(B);function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var U=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=Object.assign({},e),this.liquifire(t),this.commands=[]}var t,e,r;return t=n,(e=[{key:"clone",value:function(){var n=S.dom.cloneClass(this);return n.commands=[],this.commands.forEach(function(t,e){n.commands[e]=t.clone()}),n}},{key:"liquifire",value:function(){if(!a()(arguments[0])){var t=arguments[0];if(!t.valid())throw new Error("LiquiFire object is not valid.");this._liquifire=t}return this._liquifire}},{key:"addCommand",value:function(t,e){var n;n=I()(t)?t:new C(t,e);var r=this.commands.length;return this.commands.push(n),r}},{key:"addSink",value:function(t){this.addCommand("sink",t)}},{key:"insertCommand",value:function(t,e,n){var r,i;return i=j()(t)?this.findCommand(t)||this.commands.length:t,r=I()(e)?e:new C(e,n),i||0==i?(this.commands.splice(i,0,r),i):null}},{key:"hasCommand",value:function(t,e){var n=this.findCommand(t,e);return!a()(n)}},{key:"deleteCommand",value:function(t){a()(t)||this.commands.splice(t,1)}},{key:"getCommand",value:function(t){return this.commands[t]}},{key:"getCommandByName",value:function(t,e){var n=this.findCommand(t,e);return a()(n)?null:this.getCommand(n)}},{key:"getSink",value:function(){for(var t=[],e=0;e<this.commands.length;e++)a()(this.commands[e])||"sink"!=this.commands[e].name()||t.push(getCommand(e));return t}},{key:"findCommand",value:function(t,e){var n=0;e||0==e||(e=-1);for(var r=0;r<this.commands.length;r++)if(!a()(this.commands[r])&&this.commands[r].name()==t&&++n>e)return r;return null}},{key:"getCommands",value:function(){return this.commands}},{key:"setCommand",value:function(t,e,n){var r;r="object"==L(e)?e:new C(e,n),this.commands[t]=r}},{key:"numberOfCommands",value:function(){return this.commands.length}},{key:"asString",value:function(){var t,e="";for(t=0;t<this.commands.length;t++)e+=this.commands[t].asString()+"&";var n=e.substring(0,e.length-1);return this.options.auth&&"hash"==this.options.auth.type&&(n+="&auth=hash[".concat(this._generateAuthHash(n),"]")),n}},{key:"asURL",value:function(){var t=this.asURLVariable();return this.liquifire()&&this.liquifire().valid()?this.liquifire().asURL()+"?"+t:""}},{key:"asURLVariable",value:function(){var t=this.asString(),e=encodeURI(t);return e=(e=e.replace(/\+/g,"%2B")).replace(/#/g,"%23")}},{key:"parse",value:function(t){this.commands=[],this._parseString(t)}},{key:"parseAdd",value:function(t){this._parseString(t)}},{key:"_parseString",value:function(t){for(var e=t.split("&"),n=0;n<e.length;n++){var r=new C;r.parse(e[n]),this.addCommand(r)}}},{key:"_generateAuthHash",value:function(t){if(!this.options.auth||!this.options.auth.secret)throw"Must provide an auth secret.";return"".concat(P()(t+this.options.auth.secret)).substring(0,8)}}])&&T(t.prototype,e),r&&T(t,r),n}();n(81);function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var q=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={},this.setDefaults(),Object.assign(this.options,t),this.options.globalNamespace&&(window[this.options.globalNamespace]={})}var t,n,r;return t=e,(n=[{key:"setDefaults",value:function(){Object.assign(this.options,{globalNamespace:"",format:"json"})}},{key:"prepareChain",value:function(t,e){this.originalChain=t;var n=new U(t.liquifire());n.parse(t.asString());var r=n.getCommandByName("sink");if(!r){var i=n.addCommand("sink");r=n.getCommand(i)}return e?(e.format&&r.addAtt("format",e.format),e.name&&r.addAtt("name",e.name)):r.addAtt("format",this.options.format),n}},{key:"request",value:function(u,c){var l=this;return new Promise(function(e,n){var t;l.requestName=c||"_lfinfojson",t=l.options.globalNamespace?l.options.globalNamespace+"."+l.requestName:l.requestName,"json"!==l.options.format&&"json2"!==l.options.format&&n(new Error("LiquiFire Query cannot use format: '"+l.options.format+"'"));var r={format:l.options.format,name:t},i=l.prepareChain(u,r),o=document.createElement("script"),s=function(){var t;(t=this.options.globalNamespace?window[this.options.globalNamespace][this.requestName]:window[this.requestName])&&t.lfresponse&&t.lfresponse?e(this.parse(t.lfresponse)):n(new Error("Error: No data returned from LiquiFire Query"))}.bind(l);o.addEventListener?(o.addEventListener("load",s),o.addEventListener("error",function(){n(new Error("Error fetching LiquiFire Query"))})):o.onreadystatechange=function(t){"loaded"!=o.readyState&&"complete"!=o.readyState||s()}.bind(l);var a=i.asURL();o.src=a,document.getElementsByTagName("head").item(0).appendChild(o)})}},{key:"parse",value:function(t){var e=t,r=e.job,n=Object.keys(r),i={};n.forEach(function(n,t){i[n]={},r[n].forEach(function(t,e){i[n][t.name]=t.value})});var o=e.image,s=Object.keys(o),a={};return s.forEach(function(n,t){"string"==typeof o[n]?a[n]=o[n]:(a[n]={},o[n].forEach(function(t,e){a[n][t.name]=t.value}))}),{job:i,image:a}}}])&&z(t.prototype,n),r&&z(t,r),e}(),Q={server:c,chain:U,command:C,query:q},H={imageFitValues:["container","containerwidth","containerheight","containerfill","stretch","containermax","containerpad"],maxScaleNumber:1e4,uri:"lf",port:"",authSecret:"",imageFit:"container",base:"",output:void 0,lazyLoad:!1,handleEvent:void 0,advancedOptions:{runOnPageLoad:!0,responsive:!0,pageResizeDelay:200,overridePixelRatio:void 0,maxPixelRatio:void 0,cacheThreshold:100,allowImageUpscaling:!1,expires:void 0,enabledClass:"Resolve",completedClass:"ResolveComplete",errorClass:"ResolveError",ignoreGIF:!1,alwaysUseSSL:!1,neverUseSSL:!1,preloadImage:!0,lazyLoadOptions:{observerOptions:{root:null,rootMargin:"0px",threshold:0},onVisible:void 0},containerPadFillColor:void 0,inhibitScaleCommand:!1,globalKeyResolveName:"resolve",attributeNameBase:"data-resolve",srcAttributeName:"src",chainAttributeName:"chain",heightAttributeName:"height",widthAttributeName:"width",updateOnPageResizeAttributeName:"updateonpageresize",imageFitAttributeName:"imagefit",overridePixelRatioAttributeName:"overridepixelratio",maxPixelRatioAttributeName:"maxpixelratio",runOnPageResizeUp:void 0,runOnPageResizeDown:void 0}},W=n(59),V=n.n(W),D=n(84),G=n.n(D),K=(n(170),n(85));function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $=function(){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u)}var t,e,n;return t=u,n=[{key:"getFirstMatch",value:function(t,e){var n=e.match(t);return n&&0<n.length&&n[1]||""}},{key:"getSecondMatch",value:function(t,e){var n=e.match(t);return n&&1<n.length&&n[2]||""}},{key:"matchAndReturnConst",value:function(t,e,n){if(t.test(e))return n}},{key:"getWindowsVersionName",value:function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}},{key:"getAndroidVersionName",value:function(t){var e=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&6<=e[1]?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&2<e[1]?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&4<=e[1]?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":void 0}},{key:"getVersionPrecision",value:function(t){return t.split(".").length}},{key:"compareVersions",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=u.getVersionPrecision(t),i=u.getVersionPrecision(e),o=Math.max(r,i),s=0,a=u.map([t,e],function(t){var e=o-u.getVersionPrecision(t),n=t+new Array(e+1).join(".0");return u.map(n.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});for(n&&(s=o-Math.min(r,i)),o-=1;s<=o;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}},{key:"map",value:function(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n+=1)r.push(e(t[n]));return r}},{key:"getBrowserAlias",value:function(t){return K.BROWSER_ALIASES_MAP[t]}}],(e=null)&&J(t.prototype,e),n&&J(t,n),u}(),X=/version\/(\d+(\.?_?\d+)+)/i,Y=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},n=$.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},n=$.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},n=$.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},n=$.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},n=$.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},n=$.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},n=$.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},n=$.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},n=$.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},n=$.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},n=$.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},n=$.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},n=$.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},n=$.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},n=$.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},n=$.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},n=$.getFirstMatch(X,t)||$.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},n=$.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},n=$.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},n=$.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},n=$.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},n=$.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},n=$.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){var e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe:function(t){var e={name:"Android Browser"},n=$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},n=$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},n=$.getFirstMatch(X,t);return n&&(e.version=n),e}},{test:[/.*/i],describe:function(t){return{name:$.getFirstMatch(/^(.*)\/(.*) /,t),version:$.getSecondMatch(/^(.*)\/(.*) /,t)}}}],Z=[{test:[/windows phone/i],describe:function(t){return{name:"Windows Phone",version:$.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t)}}},{test:[/windows/i],describe:function(t){var e=$.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t);return{name:"Windows",version:e,versionName:$.getWindowsVersionName(e)}}},{test:[/macintosh/i],describe:function(t){return{name:"macOS",version:$.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,".")}}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){return{name:"iOS",version:$.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".")}}},{test:function(t){var e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe:function(t){var e=$.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=$.getAndroidVersionName(e),r={name:"Android",version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=$.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:"WebOS"};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){return{name:"BlackBerry",version:$.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||$.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||$.getFirstMatch(/\bbb(\d+)/i,t)}}},{test:[/bada/i],describe:function(t){return{name:"Bada",version:$.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t)}}},{test:[/tizen/i],describe:function(t){return{name:"Tizen",version:$.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t)}}},{test:[/linux/i],describe:function(){return{name:"Linux"}}},{test:[/CrOS/],describe:function(){return{name:"Chrome OS"}}},{test:[/PlayStation 4/],describe:function(t){return{name:"PlayStation 4",version:$.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t)}}}],tt=(n(174),"tablet"),et="mobile",nt="desktop",rt="tv",it=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=$.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:et,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:tt,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:tt,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:tt,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:tt,vendor:"Amazon"}}},{test:[/tablet/i],describe:function(){return{type:tt}}},{test:function(t){var e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe:function(t){var e=$.getFirstMatch(/(ipod|iphone)/i,t);return{type:et,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:et,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:et}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:et,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:et}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:et,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&3<=e},describe:function(){return{type:tt}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:et}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:nt,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:nt}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:nt}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:rt}}}],ot=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){return/\sedg\//i.test(t)?{name:"Blink"}:{name:"EdgeHTML",version:$.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t)}}},{test:[/trident/i],describe:function(t){var e={name:"Trident"},n=$.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:"Presto"},n=$.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){var e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe:function(t){var e={name:"Gecko"},n=$.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:"Blink"}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:"WebKit"},n=$.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ut=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var t,e,r;return t=n,(e=[{key:"getUA",value:function(){return this._ua}},{key:"test",value:function(t){return t.test(this._ua)}},{key:"parseBrowser",value:function(){var e=this;this.parsedResult.browser={};var t=Y.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}},{key:"getBrowser",value:function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}},{key:"getBrowserName",value:function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}},{key:"getBrowserVersion",value:function(){return this.getBrowser().version}},{key:"getOS",value:function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}},{key:"parseOS",value:function(){var e=this;this.parsedResult.os={};var t=Z.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}},{key:"getOSName",value:function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""}},{key:"getOSVersion",value:function(){return this.getOS().version}},{key:"getPlatform",value:function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}},{key:"getPlatformType",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""}},{key:"parsePlatform",value:function(){var e=this;this.parsedResult.platform={};var t=it.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}},{key:"getEngine",value:function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}},{key:"getEngineName",value:function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}},{key:"parseEngine",value:function(){var e=this;this.parsedResult.engine={};var t=ot.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}},{key:"parse",value:function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}},{key:"getResult",value:function(){return Object.assign({},this.parsedResult)}},{key:"satisfies",value:function(n){var e=this,r={},i=0,o={},s=0;if(Object.keys(n).forEach(function(t){var e=n[t];"string"==typeof e?(o[t]=e,s+=1):"object"===st(e)&&(r[t]=e,i+=1)}),0<i){var t=Object.keys(r),a=t.find(function(t){return e.isOS(t)});if(a){var u=this.satisfies(r[a]);if(void 0!==u)return u}var c=t.find(function(t){return e.isPlatform(t)});if(c){var l=this.satisfies(r[c]);if(void 0!==l)return l}}if(0<s){var f=Object.keys(o).find(function(t){return e.isBrowser(t,!0)});if(void 0!==f)return this.compareVersion(o[f])}}},{key:"isBrowser",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.getBrowserName(),r=[n.toLowerCase()],i=$.getBrowserAlias(n);return e&&void 0!==i&&r.push(i.toLowerCase()),-1!==r.indexOf(t.toLowerCase())}},{key:"compareVersion",value:function(t){var e=[0],n=t,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===t[0]||"<"===t[0]?(n=t.substr(1),"="===t[1]?(r=!0,n=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?n=t.substr(1):"~"===t[0]&&(r=!0,n=t.substr(1)),-1<e.indexOf($.compareVersions(i,n,r))}},{key:"isOS",value:function(t){return this.getOSName(!0)===String(t).toLowerCase()}},{key:"isPlatform",value:function(t){return this.getPlatformType(!0)===String(t).toLowerCase()}},{key:"isEngine",value:function(t){return this.getEngineName(!0)===String(t).toLowerCase()}},{key:"is",value:function(t){return this.isBrowser(t)||this.isOS(t)||this.isPlatform(t)}},{key:"some",value:function(){var e=this;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).some(function(t){return e.is(t)})}}])&&at(t.prototype,e),r&&at(t,r),n}();n(177);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function ft(a){return function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){lt(r,e,n,i,o,"next",t)}function o(t){lt(r,e,n,i,o,"throw",t)}i(void 0)})}}function ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(){function o(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.browserInformation=new ut(window.navigator.userAgent).getResult(),this.browserInformation.window={devicePixelRatio:window.devicePixelRatio,width:window.innerWidth,height:window.innerHeight},this.imagesResolved={},this.responsiveIDs={},this.resolving=0,this.readyToAcceptCommands=!1,this.options=H,S.dom.deepExtend(this.options,t),this.reResolveQueue=[];var n=this.getLF();if(this.sendStartedEvent(),!n||!a()(this.options.advancedOptions.overridePixelRatio)&&this.options.advancedOptions.overridePixelRatio<1||!a()(this.options.advancedOptions.maxPixelRatio)&&this.options.advancedOptions.maxPixelRatio<1||!a()(this.options.advancedOptions.pageResizeDelay)&&this.options.advancedOptions.pageResizeDelay<0||!a()(this.options.advancedOptions.cacheThreshold)&&this.options.advancedOptions.cacheThreshold<0)this.sendHaltedError({message:"LiquiFire Resolve settings are not configured correctly."});else{if(this.options.advancedOptions.responsive||this.options.advancedOptions.runOnPageResizeUp||this.options.advancedOptions.runOnPageResizeDown){var r,i=this.options.advancedOptions.pageResizeDelay;window.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(function(){e.updateImages()},i)})}window.addEventListener("Resolve.ReQueue",function(t){e.reResolveQueue.forEach(function(t){e.updateImages(t.elements,t.forceRedo)}),e.reResolveQueue=[]}),setTimeout(function(t){e.start()},0)}}var t,e,n,r,i;return t=o,(e=[{key:"start",value:function(){var t=this;if(this.options.lazyLoad&&this.initObserver(),this.options.advancedOptions.runOnPageLoad)try{document.loaded?(this.sendReadyEvent(),this.updateImages()):S.dom.ready(function(){t.sendReadyEvent(),t.updateImages()})}catch(t){this.sendHaltedError({message:"Error during initial 'on page load' setup."})}else this.sendReadyEvent()}},{key:"initObserver",value:function(){var n=this;this.observer=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&(n.options.advancedOptions.lazyLoadOptions.onVisible&&n.options.advancedOptions.lazyLoadOptions.onVisible(t),e.unobserve(t.target),n.processElements([t.target],!0,!0))})},this.options.advancedOptions.lazyLoadOptions.observerOptions)}},{key:"observeElement",value:function(t){this.observer.observe(t)}},{key:"updateImage",value:function(t,e){if(this.error)this.sendHaltedError();else if(S.dom.type(t).match(/element/i))if(this.readyToAcceptCommands)this.processElements([t],e);else{var n={elements:[t],forceRedo:e};this.reResolveQueue.push(n),this.sendQueuedEvent()}else this.sendErrorEvent({element:t,message:"Expected an HTML Element"})}},{key:"updateImages",value:function(){if(this.error)this.sendHaltedError();else{var t,e;if(!a()(arguments[0])&&V()(arguments[0])){var n=arguments[0];if("nodelist"==S.dom.type(n))t=Array.prototype.slice.call(n);else{if("array"!=S.dom.type(n))return void this.sendErrorEvent({elements:t,message:"Expected an Array of HTML Elements or a NodeList"});t=arguments[0]}1<arguments.length&&"boolean"==S.dom.type(arguments[1])&&(e=arguments[1])}else if(!a()(arguments[0])){if("boolean"!=S.dom.type(arguments[0]))return void this.sendErrorEvent({elements:t,message:"Expected an Array of HTML Elements or a NodeList, or a boolean"});e=arguments[0]}if(this.readyToAcceptCommands)t?this.processElements(t,e):this.resolveAll(e);else{var r={elements:t,forceRedo:e};this.reResolveQueue.push(r),this.sendQueuedEvent()}}}},{key:"resolveAll",value:function(t){var e=Object.entries(this.imagesResolved).map(function(t){var e=ht(t,2);e[0];return e[1].el});0!==(e=e.concat(this.getImagesList())).length&&this.processElements(e,t)}},{key:"observeAll",value:function(t){var e=this,n=[];if(t){var r=Object.entries(this.imagesResolved).map(function(t){var e=ht(t,2);e[0];return e[1].el});n.concat(r)}(n=n.concat(this.getImagesList())).forEach(function(t){e.observeElement(t)})}},{key:"processElements",value:function(t,e,n){if(0===this.resolving&&this.sendResolvingEvent(),this.error)this.sendHaltedError();else{this.resolving+=t.length;for(var r=0;r<t.length;r++){var i=t[r];this.processElement(i,e,n)}}}},{key:"processElement",value:function(t,e,n){var r=this,i=this.imagesResolved[t.id];setTimeout(function(){i?r.processObject(i,e):!n&&r.options.lazyLoad?(r.observeElement(t),r.decrementResolving()):r.firstResolve(t)},0)}},{key:"processObject",value:function(t,e){if(e){var n=t.el;delete this.imagesResolved[n.id],this.firstResolve(n)}else t?this.reResolve(t):this.sendErrorEvent({message:"Internal Resolve error. No object for element."})}},{key:"getUniqueId",value:function(){return G()("resolve_")}},{key:"createObject",value:function(t){return{el:t,originalSource:void 0,originalChain:void 0,isChainWithNoSink:!1,sourceFormat:"",sourceQuality:"",sourceExpires:"",format:void 0,quality:void 0,expires:void 0,pixelRatio:void 0,chain:void 0,resolveStatic:void 0,resolveWidth:void 0,resolveHeight:void 0,normalizedWidth:void 0,normalizedHeight:void 0,imageFit:void 0}}},{key:"firstResolve",value:function(t){t.id||(t.id=this.getUniqueId());var e=this.createObject(t);if(e.el.tagName.match(/img/i))if(S.dom.imageLoaded(e.el))this.elementReadyResolve(e);else{var n=function(){e.el.removeEventListener("load",n),setTimeout(function(){this.elementReadyResolve(e)}.bind(this),0)}.bind(this);e.el.addEventListener("load",n)}else this.elementReadyResolve(e)}},{key:"elementReadyResolve",value:(i=ft(regeneratorRuntime.mark(function t(n){var e,r,i,o,s,a,u,c,l,f,h,d,p,v,m,g,y,b,A,w=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.el,i=this.getLF(),e=r.tagName.match(/img/i)?r.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.srcAttributeName))||r.getAttribute("src"):(o=(o=window.getComputedStyle(r).backgroundImage)&&o.match&&o.match(/url\('?(.*)'?\)/)?o.match(/url\('?(.*)'?\)/)[1]:void 0,r.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.srcAttributeName))||o),s=r.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.chainAttributeName)),e&&e.match(/^\/\//)&&(e=window.location.protocol+e),e&&this.options.base&&(e.match(/^\w+:/)||(e=this.options.base+e)),e||s){t.next=9;break}return this.sendSkippedEvent(n,"Resolve requires elements to have a '".concat(this.getResolveAttributeName(this.options.advancedOptions.srcAttributeName),"' or '").concat(this.getResolveAttributeName(this.options.advancedOptions.chainAttributeName),"' attribute.")),t.abrupt("return");case 9:if(c={width:Math.round(r.getAttribute("width"))||0,height:Math.round(r.getAttribute("height"))||0},l={width:r.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.widthAttributeName))||0,height:r.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.heightAttributeName))||0},f={width:r.width,height:r.height},this.imagesResolved[r.id]=n,h={},this.options.authSecret&&(h.auth={type:"hash",secret:this.options.authSecret}),d=new Q.chain(i,h),!s){t.next=25;break}n.originalChain=s,d.parse(s),d.getCommandByName("sink")||(n.isChainWithNoSink=!0),n.isChainWithNoSink||(n.sourceFormat=d.getCommandByName("sink").getAtt("format")||"",n.sourceQuality=d.getCommandByName("sink").getAtt("quality")||"",n.sourceExpires=d.getCommandByName("sink").getAtt("expires")||""),n.isChainWithNoSink||!n.sourceExpires&&this.options.advancedOptions.expires&&d.getCommandByName("sink").addAtt("expires",this.options.advancedOptions.expires),n.isChainWithNoSink||n.sourceFormat.match(/gif/i)&&!this.options.advancedOptions.ignoreGIF&&(d.insertCommand("sink","unoptimize"),d.insertCommand("sink","optimize")),t.next=48;break;case 25:if(!e){t.next=48;break}if(n.originalSource=e,p=new RegExp("^".concat(i.asURL())),e.match(p))return this.sendSkippedEvent(n,"The src attribute or ".concat(this.getResolveAttributeName(this.options.advancedOptions.srcAttributeName)," can not be a LiquiFire Image Chain.")),t.abrupt("return");t.next=31;break;case 31:if(v=e.split("/"),(m=v[v.length-1].match(/\.(\w*)[\?#]{0,1}/))&&(n.sourceFormat=m[1].toLowerCase()),d.addCommand("source",{url:e}),!n.sourceFormat.match(/gif/i)){t.next=45;break}if(this.options.advancedOptions.ignoreGIF)return n.setSrc(e),delete this.imagesResolved[r.id],this.sendSkippedEvent(n,'Advanced option "ignoreGIF" set to TRUE. Ignoring GIF file and setting src to original url.'),t.abrupt("return");t.next=43;break;case 43:d.addCommand("unoptimize"),d.addCommand("optimize");case 45:g={},this.options.advancedOptions.expires&&(g.expires=this.options.advancedOptions.expires),d.addSink(g);case 48:return n.chain=d,t.next=51,this.processOutput(n);case 51:if(this.error)return t.abrupt("return");t.next=53;break;case 53:if(y=this.getResolveAttributeName(this.options.advancedOptions.updateOnPageResizeAttributeName),(b=r.getAttribute(y))&&!S.dom.textTrue(b)&&(n.resolveStatic=!0),A=r.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.imageFitAttributeName))||this.options.imageFit,"string"==S.dom.type(A)&&-1==this.options.imageFitValues.indexOf(A=A.trim().toLowerCase())&&(A=this.options.imageFit),n.imageFit=A,r.tagName.match(/img/i)){t.next=65;break}n.resolveWidth=Math.round(r.getBoundingClientRect().width),n.resolveHeight=Math.round(r.getBoundingClientRect().height),this.doResolve(n),t.next=80;break;case 65:if(!c.height||!c.width){t.next=73;break}u=r.src&&f.width&&f.height?(a=f.width,f.height):(a=c.width,c.height),n.resolveWidth=a,n.resolveHeight=u,n.resolveStatic=!0,this.doResolve(n),t.next=80;break;case 73:if(f.height||f.width){t.next=79;break}return this.sendSkippedEvent(n,"Resolve can not process images that are hidden."),delete this.imagesResolved[r.id],t.abrupt("return");case 79:l.width&&l.height?this.blankToResolve(n,l,f):f.width&&1==this.options.imageFitValues.indexOf(n.imageFit)||f.height&&2==this.options.imageFitValues.indexOf(n.imageFit)?(n.resolveWidth=f.width,n.resolveHeight=f.height,this.doResolve(n)):new Q.query({format:"json",globalNamespace:"_lfResolveInfo"}).request(n.chain,"md5_".concat(P()(n.chain.asString()))).then(function(t){l={width:1*t.image.image.width,height:1*t.image.image.height},w.blankToResolve(n,l,f)}).catch(function(t){S.dom.removeClass(n.el,w.options.advancedOptions.enabledClass),S.dom.addClass(n.el,w.options.advancedOptions.errorClass);var e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";n.el.tagName.match(/img/i)?n.el.setAttribute("src",e):n.el.style.backgroundImage="url('"+e+"')",w.sendSkippedEvent(n,t.message)});case 80:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"blankToResolve",value:function(r,i,t){if(i.width=Math.round(i.width),i.height=Math.round(i.height),this.isSameAspect(t,i))r.resolveWidth=t.width,r.resolveHeight=t.height,this.doResolve(r);else{var o=function(t){var e={width:r.el.width,height:r.el.height},n=this.greatestCommonDivisor(i.width,i.height);e.width==n.width&&e.height==n.height?(r.resolveWidth=i.width,r.resolveHeight=i.height):(r.resolveWidth=e.width,r.resolveHeight=e.height),r.el.removeEventListener("load",o),this.doResolve(r)}.bind(this),e=this.makeBlankImageChain(i.width,i.height);r.el.getAttribute("src")==e?o():(r.el.addEventListener("load",o),r.el.setAttribute("src",e))}}},{key:"processOutput",value:(r=ft(regeneratorRuntime.mark(function t(e){var n,r,i,o,s,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},"function"!=typeof this.options.output){t.next=6;break}r={source:e.originalChain||e.originalSource,format:e.sourceFormat,quality:e.sourceQuality},n=this.options.output(this.browserInformation,r),t.next=9;break;case 6:if(void 0!==this.options.output)return this.sendHaltedError({message:"LiquiFire Resolve option 'output' is not of type 'Function'"}),t.abrupt("return");t.next=9;break;case 9:if("object"!=ct(n)||Array.isArray(n)){t.next=43;break}if(!n.format){t.next=18;break}if("string"!=typeof n.format){t.next=15;break}n.format=[n.format],t.next=18;break;case 15:if(Array.isArray(n.format)){t.next=18;break}return this.sendHaltedError({message:"LiquiFire Resolve option 'output.format' is not of type 'String' or 'Array'"}),t.abrupt("return");case 18:if(!n.quality){t.next=30;break}if("string"!=typeof n.quality&&"number"!=typeof n.quality){t.next=24;break}n.quality=1*n.quality,n.quality<=0?n.quality=1:100<n.quality&&(n.quality=100),t.next=30;break;case 24:if("object"!=ct(n.quality)){t.next=28;break}for(i in n.quality)n.quality[i]=1*n.quality[i],n.quality[i]<=0?n.quality[i]=1:100<n.quality[i]&&(n.quality[i]=100);t.next=30;break;case 28:return this.sendHaltedError({message:"LiquiFire Resolve option 'output.quality' is not of type 'String' or 'Number', or 'Object'"}),t.abrupt("return");case 30:if(!n.pixelRatio){t.next=37;break}if(n.pixelRatio=1*n.pixelRatio,n.pixelRatio!=n.pixelRatio)return this.sendHaltedError({message:"LiquiFire Resolve option 'output.pixelRatio' is not of type 'Number'"}),t.abrupt("return");t.next=35;break;case 35:n.pixelRatio=Math.round(n.pixelRatio),n.pixelRatio<=0&&(n.pixelRatio=1);case 37:if(!n.expires){t.next=41;break}if("string"!=typeof n.expires&&"number"!=typeof n.expires)return this.sendHaltedError({message:"LiquiFire Resolve option 'output.expires' is not a valid date or of type 'Number'"}),t.abrupt("return");t.next=41;break;case 41:t.next=45;break;case 43:return this.sendHaltedError({message:"LiquiFire Resolve option 'output' does not return correct format."}),t.abrupt("return");case 45:if(o="",!e.originalChain||!e.sourceFormat){t.next=50;break}o=e.sourceFormat,t.next=60;break;case 50:if(!n.format){t.next=60;break}s=n.format.map(function(t){return t.trim().replace(/^image\//,"")}),a=0;case 53:if(!(a<s.length)){t.next=60;break}if(o){t.next=57;break}return t.next=57,S.image.formatSupported(s[a]).then(function(t){t&&(o=s[a])});case 57:a++,t.next=53;break;case 60:!o&&e.originalSource&&e.sourceFormat&&e.sourceFormat.match(/jp2|jpeg|jpg|png|png8|bmp|svg|tiff|ptif|webp|hdr|swf|fax|gif|ras|pnm|pbm|pgm|ppm|rgb|xbm|xpm|epi|eps|epsf|epsi|ps|eps2|ps2|ps3|pdf|fpx|jxr|wdp|hdp|xml|xml2|xmle|json|json2|zip/i)&&(o=e.sourceFormat),o&&(e.format=o,e.isChainWithNoSink||e.chain.getCommandByName("sink").set("format",o)),!e.sourceQuality&&n.quality?("object"==ct(n.quality)?e.quality=n.quality[e.format]||n.quality.default:e.quality=n.quality,e.quality&&!e.isChainWithNoSink&&e.chain.getCommandByName("sink").set("quality",e.quality)):e.quality=e.sourceQuality,e.sourceExpires||this.options.advancedOptions.expires||!n.expires?e.expires=e.sourceExpires:(e.expires=n.expires,e.isChainWithNoSink||e.chain.getCommandByName("sink").set("expires",n.expires)),n.pixelRatio&&(e.pixelRatio=n.pixelRatio),e.pixelRatio=this.getPixelRatio(e);case 66:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"isSameAspect",value:function(t,e){var n=Math.round(t.width),r=Math.round(t.height),i=Math.round(e.width),o=Math.round(e.height);return(n/r).toFixed(1)==(i/o).toFixed(1)}},{key:"makeBlankImageChain",value:function(t,e,n){t=t||1,e=e||1;var r=this.greatestCommonDivisor(t,e),i=n||"none",o=this.getLF(),s={};this.options.authSecret&&(s.auth={type:"hash",secret:this.options.authSecret});var a=new Q.chain(o,s);return a.parse("blank=height["+r.height+"],width["+r.width+"],color["+i+"]&sink=format[gif]"),a.asURL()}},{key:"greatestCommonDivisor",value:function(t,e){var n=S.math.GCD(t,e);return{width:t/n,height:e/n}}},{key:"newImage",value:function(t){if(!this.error){var e=this.getResolveAttributeName(this.options.advancedOptions.srcAttributeName),n=this.getResolveAttributeName(this.options.advancedOptions.chainAttributeName);t&&(t.src&&!t[e]?(t[e]=t.src,t.src=this.makeBlankImageChain()):!t.src&&t[e]?t.src=this.makeBlankImageChain():!t.src&&t[n]&&(t.src=this.makeBlankImageChain()));var r=document.createElement("img");if(S.dom.addClass(r,this.options.advancedOptions.enabledClass),t&&t===Object(t)&&"[object Array]"!==Object.prototype.toString.call(t))for(var i in t)r.setAttribute(i,t[i]);return t&&t.width&&t.height&&this.updateImage(r),r}this.sendHaltedError()}},{key:"reResolve",value:function(t){var e;if(t)if(t.resolveStatic)this.sendSkippedEvent(t,"Image not responsive. Skip.");else{var n=t.chain,r={};t.el.tagName.match(/img/i)?(r.width=t.el.width,r.height=t.el.height):(r.width=t.el.getBoundingClientRect().width,r.height=t.el.getBoundingClientRect().height);var i=Math.round(r.width*t.pixelRatio),o=Math.round(r.height*t.pixelRatio),s={resolveWidth:t.resolveWidth,resolveHeight:t.resolveHeight,normalizedWidth:t.normalizedWidth,normalizedHeight:t.normalizedHeight},a=this.adjustForImageFit(i,o,t);if(t.normalizedWidth>s.normalizedWidth||t.normalizedHeight>s.normalizedHeight){if(t.isChainWithNoSink)e="Sink command not found. Scale command not added to chain.";else if(this.options.advancedOptions.inhibitScaleCommand)e='Advanced option "inhibitScaleCommand" set to true. Scale command not added to chain.';else{var u=n.findCommand("sink");t.sourceFormat.match(/gif/i)&&this.options.advancedOptions.ignoreGIF?e='Advanced option "ignoreGIF" set to true. Source was a chain. Scale command not added to chain.':t.sourceFormat.match(/gif/i)?n.setCommand(u-2,"scale",a):n.setCommand(u-1,"scale",a)}var c=this.options.advancedOptions.globalKeyResolveName+".width",l=this.options.advancedOptions.globalKeyResolveName+".height";n.setCommand(1,"set",{key:c,value:t.normalizedWidth}),n.setCommand(2,"set",{key:l,value:t.normalizedHeight});var f=function(){t.el.tagName.match(/img/i)?t.el.setAttribute("src",n.asURL()):t.el.style.backgroundImage="url('"+n.asURL()+"')",this.sendResolvedEvent({obj:t,message:e})}.bind(this);if(this.options.advancedOptions.preloadImage){var h=new Image;h.addEventListener("load",function(){f(),h=null}),h.src=n.asURL()}else f()}else Object.assign(t,s),this.sendSkippedEvent(t,"Image resolution sufficient for container.")}else this.sendSkippedEvent(t,"obj ID not found.")}},{key:"doResolve",value:function(t){var e,n=t.chain,r=Math.round(t.resolveWidth*t.pixelRatio),i=Math.round(t.resolveHeight*t.pixelRatio),o=this.adjustForImageFit(r,i,t);t.isChainWithNoSink?e="Sink command not found. Scale command not added to chain.":this.options.advancedOptions.inhibitScaleCommand?e='Advanced option "inhibitScaleCommand" set to true. Scale command not added to chain.':t.sourceFormat.match(/gif/i)&&this.options.advancedOptions.ignoreGIF?e='Advanced option "ignoreGIF" set to true. Source was a chain. Scale command not added to chain.':t.sourceFormat.match(/gif/i)?n.insertCommand("optimize","scale",o):n.insertCommand("sink","scale",o),S.dom.removeClass(t.el,this.options.advancedOptions.enabledClass),S.dom.addClass(t.el,this.options.advancedOptions.completedClass);var s="".concat(this.options.advancedOptions.globalKeyResolveName,".pixelRatio"),a="".concat(this.options.advancedOptions.globalKeyResolveName,".width"),u="".concat(this.options.advancedOptions.globalKeyResolveName,".height"),c="".concat(this.options.advancedOptions.globalKeyResolveName,".imageFit"),l="".concat(this.options.advancedOptions.globalKeyResolveName,".format"),f="".concat(this.options.advancedOptions.globalKeyResolveName,".quality"),h="".concat(this.options.advancedOptions.globalKeyResolveName,".expires"),d="".concat(this.options.advancedOptions.globalKeyResolveName,".allowImageUpscaling"),p="".concat(this.options.advancedOptions.globalKeyResolveName,".containerPadFillColor");n.insertCommand(0,"set",{key:s,value:t.pixelRatio}),n.insertCommand(1,"set",{key:a,value:t.normalizedWidth}),n.insertCommand(2,"set",{key:u,value:t.normalizedHeight}),n.insertCommand(3,"set",{key:c,value:t.imageFit}),n.insertCommand(4,"set",{key:d,value:this.options.advancedOptions.allowImageUpscaling?1:0});var v=5;t.format&&(n.insertCommand(v,"set",{key:l,value:t.format}),v++),t.quality&&(n.insertCommand(v,"set",{key:f,value:t.quality}),v++),t.expires&&(n.insertCommand(v,"set",{key:h,value:t.expires}),v++),t.imageFit.match(/containerpad/)&&this.options.advancedOptions.containerPadFillColor&&(n.insertCommand(v,"set",{key:p,value:this.options.advancedOptions.containerPadFillColor}),v++);var m=function(){t.el.tagName.match(/img/i)?t.el.setAttribute("src",n.asURL()):t.el.style.backgroundImage="url('"+n.asURL()+"')",this.sendResolvedEvent({obj:t,message:e})}.bind(this);if(this.options.advancedOptions.preloadImage){var g=new Image;g.addEventListener("load",function(){m(),g=null}),g.src=n.asURL()}else m()}},{key:"adjustForImageFit",value:function(t,e,n){var r=this.normalizedResolveDim(t,e,n),i=r.width,o=r.height,s={};return 3<=this.options.imageFitValues.indexOf(n.imageFit)&&(e<t?o=Math.round(i*(e/t)):t<e&&(i=Math.round(o*(t/e)))),6==this.options.imageFitValues.indexOf(n.imageFit)?(s.options="pad",this.options.advancedOptions.containerPadFillColor&&(s.fill=this.options.advancedOptions.containerPadFillColor)):4==this.options.imageFitValues.indexOf(n.imageFit)?s.options="stretch":3==this.options.imageFitValues.indexOf(n.imageFit)?s.options="crop":1==this.options.imageFitValues.indexOf(n.imageFit)?o=this.options.maxScaleNumber:2==this.options.imageFitValues.indexOf(n.imageFit)?i=this.options.maxScaleNumber:5==this.options.imageFitValues.indexOf(n.imageFit)&&(o<=i?o=this.options.maxScaleNumber:i=this.options.maxScaleNumber),this.options.advancedOptions.allowImageUpscaling||(s.options?s.options+=",limit":s.options="limit"),s.size=i+"x"+o,n.resolveWidth=t,n.resolveHeight=e,n.normalizedWidth=i,n.normalizedHeight=o,s}},{key:"normalizedResolveDim",value:function(t,e,n){var r=this.options.advancedOptions.cacheThreshold;return r&&(t=Math.ceil(t/r)*r,e=Math.ceil(e/r)*r),t>this.options.maxScaleNumber&&(t=this.options.maxScaleNumber),e>this.options.maxScaleNumber&&(e=this.options.maxScaleNumber),{width:t,height:e}}},{key:"getImagesList",value:function(){return this.options.advancedOptions.enabledClass?[].slice.call(document.querySelectorAll("."+this.options.advancedOptions.enabledClass)):[].slice.call(document.querySelectorAll("img"+(this.options.advancedOptions.enabledClass?"."+this.options.advancedOptions.enabledClass:"")))}},{key:"getPixelRatio",value:function(t){var e=t.el.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.overridePixelRatioAttributeName))||this.options.advancedOptions.overridePixelRatio||t.pixelRatio||window.devicePixelRatio||1,n=t.el.getAttribute(this.getResolveAttributeName(this.options.advancedOptions.maxPixelRatioAttributeName))||this.options.advancedOptions.maxPixelRatio;return!a()(n)&&0<n&&n<e&&(e=n),e<1?1:e}},{key:"getResolveAttributeName",value:function(t){return this.options.advancedOptions.attributeNameBase+t}},{key:"getLF",value:function(){if(!this.options.lf&&this.options.server){var t=this.options.server,e=this.options.uri,n=this.options.port;this.options.lf=new Q.server(t,e,n,{alwaysUseSSL:this.options.advancedOptions.alwaysUseSSL,neverUseSSL:this.options.advancedOptions.neverUseSSL})}return this.options.lf}},{key:"decrementResolving",value:function(){this.resolving--,this.resolving<=0&&this.sendCompleteEvent()}},{key:"sendStartedEvent",value:function(){this.eStarted?this.sendRecursionError({inPhase:"started"}):(this.eStarted=1,this.sendEngineEvent("started"))}},{key:"sendReadyEvent",value:function(){this.eReady?this.sendRecursionError({inPhase:"ready"}):(this.eReady=1,this.readyToAcceptCommands=!0,this.sendEngineEvent("ready"),S.dom.dispatchEvent(window,"Resolve.ReQueue"))}},{key:"sendResolvingEvent",value:function(t,e){this.eResolving?this.sendRecursionError({inPhase:"processing"}):this.eComplete?this.sendRecursionError({inPhase:"complete"}):(this.eResolving=1,this.sendEngineEvent("processing"),this.eResolving=0)}},{key:"sendSkippedEvent",value:function(t,e){this.sendEngineEvent("skipped",{element:t.el,id:t.el.id,message:e}),this.decrementResolving()}},{key:"sendQueuedEvent",value:function(){var t="Resolve is not ready to process images yet. Placed in queue.";this.readyToAcceptCommands&&(t="Resolve already running. Placed in queue."),this.sendEngineEvent("queued",t)}},{key:"sendResolvedEvent",value:function(t){var e={element:t.obj.el,id:t.obj.el.id,imageChain:t.obj.chain.asURL()};t.message&&Object.assign(e,{message:t.message}),this.sendEngineEvent("processed",e),this.decrementResolving()}},{key:"sendCompleteEvent",value:function(){this.eComplete?this.sendRecursionError({inPhase:"complete"}):(this.eComplete=1,this.sendEngineEvent("complete"),this.eComplete=0,this.eReady||this.sendReadyEvent(),S.dom.dispatchEvent(window,"Resolve.ReQueue"))}},{key:"sendEngineEvent",value:function(t,e){this.options.handleEvent&&this.options.handleEvent(t,e)}},{key:"sendRecursionError",value:function(t){t.message=t.message||"Recursion not allowed",this.sendErrorEvent(t)}},{key:"sendErrorEvent",value:function(t){this.sendEngineEvent("error",t)}},{key:"sendHaltedError",value:function(t){this.error=1;var e=t||{};e.message="LiquiFire Resolve is halted due to an error. ".concat(e.message?e.message:""),this.sendErrorEvent(e)}}])&&dt(t.prototype,e),n&&dt(t,n),o}();function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"default",function(){return mt});var mt=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=new pt(t)}var t,n,r;return t=e,(n=[{key:"blank",value:function(t,e){return this.engine.makeBlankImageChain(t,e)}},{key:"blankChain",value:function(t,e){return this.engine.makeBlankImageChain(t,e)}},{key:"newImage",value:function(t){return this.engine.newImage(t)}},{key:"updateImage",value:function(t,e){return this.engine.updateImage(t,e)}},{key:"updateImages",value:function(){return this.engine.updateImages.apply(this.engine,arguments)}}])&&vt(t.prototype,n),r&&vt(t,r),e}()}]).default});